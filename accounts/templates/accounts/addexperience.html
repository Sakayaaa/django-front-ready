{% extends "base.html" %}
{% block content %}
    <section class="container">
      <h1 class="large text-primary">
        Add An Experience
      </h1>
      <p class="lead">
        <i class="fas fa-code-branch"></i> Add any developer/programming
        positions that you have had in the past
      </p>
      <small>* = required field</small>
      <form method="POST" class="form">
        {% csrf_token %}
        <div class="form-group">
          {{form.job}}
        </div>
        <div class="form-group">
          {{form.company}}
        </div>
        <div class="form-group">
          {{form.location}}
        </div>
        <div class="form-group">
          <h4>From Date</h4>
          {{form.start_date}}
        </div>
        <div class="form-group">
          <h4>To Date</h4>
          {{form.end_date}}
        </div>
        <div class="form-group">
          <p>{{form.current}} Current Job</p>
        </div>
        <script>
          const checkbox = document.querySelector("#id_current");
          const endDateInput = document.querySelector("#id_end_date");

          function toggleEndDate() {
            if (checkbox.checked) {
              endDateInput.value = "";
              endDateInput.disabled = true;
            } else {
              endDateInput.disabled = false;
            }
          }

          checkbox.addEventListener("change", toggleEndDate);
          toggleEndDate();  // run on page load
        </script>

        <div class="form-group">
          {{form.description}}
        </div>
        <input type="submit" class="btn btn-primary my-1" value="Submit"/>
        <a class="btn my-1" href="{% url "dashboard" %}">Go Back</a>
      </form>
    </section>
{% endblock %}